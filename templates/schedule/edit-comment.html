<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title" id="myModalLabel">Edit Comment</h4>
</div>
<form name="comment-form" action="/schedule/comment/edit/{{ comid }}/" method="post">{% csrf_token %}
<div class="modal-body">
    {{ comment_form.as_p }}
    
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default close-modal" data-dismiss="modal">Close</button>
    <button type="submit" class="btn btn-primary">Save changes</button>
</div>
</form>
<script type="text/javascript">
(function(){
    $("form[name='comment-form']").on("submit", function(e){
        e.preventDefault();
        var form_data = $(this).serialize();
        console.log($(this).attr('action'));
        $.ajax({
         type: "POST",
         url: $(this).attr('action'),
         data: form_data,
         success: function(rdata) {
             // $("#add-comment a[data-id='"+rdata+"']").closest("tr");
            $( "button.close-modal" ).trigger( "click" );
            window.location.reload(true);
            console.log(rdata);
         },
         errors: function(error) {

         }
        })

    })

})(jQuery)
    
</script>
